(this["webpackJsonphealth-record"]=this["webpackJsonphealth-record"]||[]).push([[2],{10:function(e,t,n){"use strict";var r=n(6),a=function(){return{type:r.f}},o=function(e,t){return{type:r.g,token:e,userId:t}},c=function(e){return{type:r.c,error:e}},u=function(){return{type:r.d}},i=function(){return{type:r.e}},s=function(e){return{type:r.b,expirationTime:e}},l=function(e,t,n){return{type:r.h,email:e,password:t,isSignup:n}},d=function(e){return{type:r.i,path:e}},p=function(){return{type:r.a}},f=function(e,t,n,a){return{type:r.k,idToken:e,role:t,userName:n,userId:a}},x=function(e,t){return{type:r.m,role:e,userName:t}},g=function(){return{type:r.l}},m=function(e){return{type:r.j,error:e}};n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"h",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return o})),n.d(t,"j",(function(){return f})),n.d(t,"l",(function(){return g})),n.d(t,"k",(function(){return m})),n.d(t,"m",(function(){return x}))},17:function(e,t,n){"use strict";n.d(t,"l",(function(){return r})),n.d(t,"m",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"j",(function(){return u})),n.d(t,"k",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return x})),n.d(t,"a",(function(){return g})),n.d(t,"i",(function(){return m}));var r="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyAPbpI-9_gUryz9fYusEFdRdIaAkQ9f5H0",a="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyAPbpI-9_gUryz9fYusEFdRdIaAkQ9f5H0",o="https://health-record-37274.firebaseio.com/",c="https://34.68.68.81:3001",u="".concat(c,"/users/registerClient"),i="".concat(c,"/users/registerDoctor"),s="".concat(c,"/users/getAccessList"),l="".concat(c,"/users/getAllowedList"),d=("".concat(c,"/users/checkPermissionStatus"),"".concat(c,"/users/getDoctorList"),"".concat(c,"/users/addPermission")),p="".concat(c,"/users/deletePermission"),f="".concat(c,"/record/createdoctor"),x="".concat(c,"/record/createpatient"),g="".concat(c,"/record/addmedicalinfo"),m="".concat(c,"/record/getmedicalinfo")},198:function(e,t,n){e.exports=n(230)},203:function(e,t,n){},204:function(e,t,n){},230:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(27),c=n.n(o),u=(n(203),n(204),n(38)),i=n(22),s=n(354),l=n(210),d=n(211),p=n(10),f=n(194),x=n(7),g="#FFFFFF",m={black:"#000000",white:g,primary:{contrastText:g,dark:x.a.indigo[900],main:x.a.indigo[500],light:x.a.indigo[100]},secondary:{contrastText:g,dark:x.a.blue[900],main:x.a.blue.A400,light:x.a.blue.A400},success:{contrastText:g,dark:x.a.green[900],main:x.a.green[600],light:x.a.green[400]},info:{contrastText:g,dark:x.a.blue[900],main:x.a.blue[600],light:x.a.blue[400]},warning:{contrastText:g,dark:x.a.orange[900],main:x.a.orange[600],light:x.a.orange[400]},error:{contrastText:g,dark:x.a.red[900],main:x.a.red[600],light:x.a.red[400]},text:{primary:x.a.blueGrey[900],secondary:x.a.blueGrey[600],link:x.a.blue[600]},background:{default:"#F4F6F8",paper:g},icon:x.a.blueGrey[600],divider:x.a.grey[200]},b={h1:{color:m.text.primary,fontWeight:500,fontSize:"35px",letterSpacing:"-0.24px",lineHeight:"40px"},h2:{color:m.text.primary,fontWeight:500,fontSize:"29px",letterSpacing:"-0.24px",lineHeight:"32px"},h3:{color:m.text.primary,fontWeight:500,fontSize:"24px",letterSpacing:"-0.06px",lineHeight:"28px"},h4:{color:m.text.primary,fontWeight:500,fontSize:"20px",letterSpacing:"-0.06px",lineHeight:"24px"},h5:{color:m.text.primary,fontWeight:500,fontSize:"16px",letterSpacing:"-0.05px",lineHeight:"20px"},h6:{color:m.text.primary,fontWeight:500,fontSize:"14px",letterSpacing:"-0.05px",lineHeight:"20px"},subtitle1:{color:m.text.primary,fontSize:"16px",letterSpacing:"-0.05px",lineHeight:"25px"},subtitle2:{color:m.text.secondary,fontWeight:400,fontSize:"14px",letterSpacing:"-0.05px",lineHeight:"21px"},body1:{color:m.text.primary,fontSize:"14px",letterSpacing:"-0.05px",lineHeight:"21px"},body2:{color:m.text.secondary,fontSize:"12px",letterSpacing:"-0.04px",lineHeight:"18px"},button:{color:m.text.primary,fontSize:"14px"},caption:{color:m.text.secondary,fontSize:"11px",letterSpacing:"0.33px",lineHeight:"13px"},overline:{color:m.text.secondary,fontSize:"11px",fontWeight:500,letterSpacing:"0.33px",lineHeight:"13px",textTransform:"uppercase"}},h={root:{color:m.icon,"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.03)"}}},k=n(40),S={MuiButton:{contained:{boxShadow:"0 1px 1px 0 rgba(0,0,0,0.14), 0 2px 1px -1px rgba(0,0,0,0.12), 0 1px 3px 0 rgba(0,0,0,0.20)",backgroundColor:"#FFFFFF"}},MuiIconButton:h,MuiPaper:{elevation1:{boxShadow:"0 0 0 1px rgba(63,63,68,0.05), 0 1px 3px 0 rgba(63,63,68,0.15)"}},MuiTableCell:{root:Object(k.a)({},b.body1,{borderBottom:"1px solid ".concat(m.divider)})},MuiTableHead:{root:{backgroundColor:x.a.grey[50]}},MuiTypography:{gutterBottom:{marginBottom:8}}},y=Object(f.a)({palette:m,typography:b,overrides:S,zIndex:{appBar:1200,drawer:1100}}),I=a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(8),n.e(16)]).then(n.bind(null,398))})),T=a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(11)]).then(n.bind(null,399))})),j=a.a.lazy((function(){return Promise.all([n.e(1),n.e(5),n.e(15)]).then(n.bind(null,405))})),O=a.a.lazy((function(){return n.e(17).then(n.bind(null,400))}));var v=Object(u.b)((function(e){return{isAuth:null!==e.token,chainCodeID:e.chainCodeID}}),(function(e){return{onTryAutoSignUp:function(){return e(p.b())}}}))((function(e){var t=e.onTryAutoSignUp;Object(r.useEffect)((function(){t()}),[t]);var n=null;return n=e.isAuth?a.a.createElement(i.d,null,a.a.createElement(i.b,{path:"/role",render:function(e){return a.a.createElement(T,e)}}),a.a.createElement(i.b,{path:"/logout",render:function(e){return a.a.createElement(O,e)}}),a.a.createElement(i.b,{path:"/auth",render:function(e){return a.a.createElement(I,e)}}),a.a.createElement(i.b,{path:"/",render:function(e){return a.a.createElement(j,e)}}),a.a.createElement(i.a,{to:"/"})):a.a.createElement(i.d,null,a.a.createElement(i.b,{path:"/auth",render:function(e){return a.a.createElement(I,e)}}),a.a.createElement(i.a,{to:"/auth"})),a.a.createElement(s.a,{theme:y},a.a.createElement(r.Suspense,{fallback:a.a.createElement(l.a,{open:!0},a.a.createElement(d.a,{color:"secondary"}))},n))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var E=n(21),w=n(6),A=n(26),U={token:null,userId:null,error:null,loading:!1,role:null,userName:null,authRedirectPath:"/"},_=function(e,t){return Object(A.b)(e,{error:null,loading:!0})},H=function(e,t){return Object(A.b)(e,{token:t.token,userId:t.userId,error:null,loading:!1})},z=function(e,t){return Object(A.b)(e,{role:t.role,userName:t.userName,loading:!1,error:null})},F=function(e,t){return Object(A.b)(e,{error:t.error,loading:!1})},N=function(e,t){return Object(A.b)(e,{token:null,userId:null,role:null,userName:null})},C=function(e,t){return Object(A.b)(e,{authRedirectPath:t.path})},P=n(195),D=n(50),R=n(12),W=n.n(R),L=n(5),B=n(20),M=n.n(B),G=n(17),q=W.a.mark(Z),J=W.a.mark($),K=W.a.mark(V),Q=W.a.mark(X),Y=W.a.mark(ee);function Z(e){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.b)([localStorage,"removeItem"],"token");case 2:return e.next=4,Object(L.b)([localStorage,"removeItem"],"expirationDate");case 4:return e.next=6,Object(L.b)([localStorage,"removeItem"],"userId");case 6:return e.next=8,Object(L.b)([localStorage,"removeItem"],"role");case 8:return e.next=10,Object(L.b)([localStorage,"removeItem"],"userName");case 10:return e.next=12,Object(L.d)(p.h());case 12:case"end":return e.stop()}}),q)}function $(e){return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(L.c)(1e3*e.expirationTime);case 2:return t.next=4,Object(L.d)(p.d());case 4:case"end":return t.stop()}}),J)}function V(e){var t,n,r;return W.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(L.d)(p.l());case 2:return t={role:e.role,userName:e.userName,userId:e.userId},a.next=5,M.a.post("".concat(G.e,"/information.json?auth=").concat(e.idToken),t);case 5:if(a.prev=5,"patient"!==e.role){a.next=15;break}return a.next=9,M.a.post(G.j,{userId:e.userId},{headers:{"Access-Control-Allow-Origin":"*"}});case 9:return n=a.sent,a.next=12,M.a.post(G.d,{id:e.userId});case 12:r=a.sent,a.next=21;break;case 15:return a.next=17,M.a.post(G.k,{userId:e.userId});case 17:return n=a.sent,a.next=20,M.a.post(G.c,{id:e.userId});case 20:r=a.sent;case 21:if("ok"!==n.data.result||"success"!==r.data.status){a.next=30;break}return a.next=24,Object(L.d)(p.m(e.role,e.userName));case 24:return a.next=26,localStorage.setItem("role",e.role);case 26:return a.next=28,localStorage.setItem("userName",e.userName);case 28:a.next=37;break;case 30:if("ok"!==n.data.result){a.next=35;break}return a.next=33,Object(L.d)(p.k(r.message));case 33:a.next=37;break;case 35:return a.next=37,Object(L.d)(p.k(n.data));case 37:a.next=43;break;case 39:return a.prev=39,a.t0=a.catch(5),a.next=43,Object(L.d)(p.k(a.t0));case 43:case"end":return a.stop()}}),K,null,[[5,39]])}function X(e){var t,n,r,a,o,c,u;return W.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(L.d)(p.e());case 2:return t={email:e.email,password:e.password,returnSecureToken:!0},n=G.m,e.isSignup||(n=G.l),i.prev=5,i.next=8,M.a.post(n,t);case 8:return r=i.sent,a="?auth=".concat(r.data.idToken,'&orderBy="userId"&equalTo="').concat(r.data.localId,'"'),i.next=12,M.a.get("".concat(G.e,"/information.json").concat(a));case 12:if(!(o=i.sent).data){i.next=25;break}i.t0=W.a.keys(o.data);case 15:if((i.t1=i.t0()).done){i.next=25;break}return c=i.t1.value,i.next=19,Object(L.d)(p.m(o.data[c].role,o.data[c].userName));case 19:return i.next=21,localStorage.setItem("role",o.data[c].role);case 21:return i.next=23,localStorage.setItem("userName",o.data[c].userName);case 23:i.next=15;break;case 25:return u=new Date((new Date).getTime()+1e3*r.data.expiresIn),i.next=28,localStorage.setItem("token",r.data.idToken);case 28:return i.next=30,localStorage.setItem("expirationDate",u);case 30:return i.next=32,localStorage.setItem("userId",r.data.localId);case 32:return i.next=34,Object(L.d)(p.f(r.data.idToken,r.data.localId));case 34:return i.next=36,Object(L.d)(p.g(r.data.expiresIn));case 36:i.next=42;break;case 38:return i.prev=38,i.t2=i.catch(5),i.next=42,Object(L.d)(p.c(i.t2.response.data.error));case 42:case"end":return i.stop()}}),Q,null,[[5,38]])}function ee(e){var t,n,r,a,o;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:if(t=e.sent){e.next=8;break}return e.next=6,Object(L.d)(p.d());case 6:e.next=31;break;case 8:return e.next=10,new Date(localStorage.getItem("expirationDate"));case 10:if(!((n=e.sent)>new Date)){e.next=29;break}return e.next=14,localStorage.getItem("userId");case 14:return r=e.sent,e.next=17,localStorage.getItem("role");case 17:return a=e.sent,e.next=20,localStorage.getItem("userName");case 20:return o=e.sent,e.next=23,Object(L.d)(p.m(a,o));case 23:return e.next=25,Object(L.d)(p.f(t,r));case 25:return e.next=27,Object(L.d)(p.g((n.getTime()-(new Date).getTime())/1e3));case 27:e.next=31;break;case 29:return e.next=31,Object(L.d)(p.d());case 31:case"end":return e.stop()}}),Y)}var te=W.a.mark(ne);function ne(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.a)([Object(L.e)(w.d,Z),Object(L.e)(w.b,$),Object(L.e)(w.h,X),Object(L.e)(w.a,ee),Object(L.e)(w.k,V)]);case 2:case"end":return e.stop()}}),te)}var re=E.c,ae=Object(P.a)(),oe=Object(E.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.f:case w.l:return _(e);case w.g:return H(e,t);case w.c:case w.j:return F(e,t);case w.e:return N(e);case w.i:return C(e,t);case w.m:return z(e,t);default:return e}}),re(Object(E.a)(ae)));ae.run(ne),c.a.render(a.a.createElement(u.a,{store:oe},a.a.createElement(D.a,{basename:"/health-record"},a.a.createElement(v,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},26:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n(40),a=function(e,t){return Object(r.a)({},e,{},t)};var o=function(e,t){var n=[];if(t.required&&""===e.trim()&&n.push("Empty Field"),t.minLength&&e.length<=t.minLength&&n.push("Not enough Length"),t.email){/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||n.push("Invalid Email")}return n}},6:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"h",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"k",(function(){return l})),n.d(t,"l",(function(){return d})),n.d(t,"m",(function(){return p})),n.d(t,"j",(function(){return f})),n.d(t,"b",(function(){return x})),n.d(t,"i",(function(){return g}));var r="AUTH_CHECK_STATE",a="AUTH_USER",o="AUTH_START",c="AUTH_SUCCESS",u="AUTH_FAIL",i="AUTH_INITIATE_LOGOUT",s="AUTH_LOGOUT",l="SET_UP_USER_ID",d="SET_UP_USER_START",p="SET_UP_USER_SUCCESS",f="SET_UP_USER_FAIL",x="AUTH_CHECK_TIMEOUT",g="SET_AUTH_REDIRECT_PATH"}},[[198,3,4]]]);
//# sourceMappingURL=main.a92ef770.chunk.js.map