(this["webpackJsonphealth-record"]=this["webpackJsonphealth-record"]||[]).push([[13],{406:function(e,t,a){"use strict";a.r(t);var n=a(78),c=a(12),r=a.n(c),o=a(40),u=a(364),i=a(363),s=a(0),l=a.n(s),d=a(384),m=a(263),f=a(273),b=a(393),h=a.n(b),g=a(240),p=a(279),k=a(278);var j=function(e){return l.a.createElement(g.a,null,l.a.createElement(k.a,{primary:e.item.name,secondary:e.item.doctor}),l.a.createElement(p.a,null,l.a.createElement(f.a,{edge:"end","aria-label":"delete",onClick:function(){return e.delete(e.item.id)},disabled:e.isLoading},l.a.createElement(h.a,null))))},v=a(234),O=a(265),E=a(211),I=a(280),x=a(38),y=a(20),S=a.n(y),w=a(17),C=Object(d.a)((function(e){return{root:{flexGrow:1,maxWidth:752},demo:{backgroundColor:e.palette.background.paper},margin:{margin:e.spacing(4,0,2)},center:{textAlign:"center"},button:{display:"block",margin:"0 auto"}}}));t.default=Object(x.b)((function(e){return{role:e.role,userId:e.userId,authRedirectPath:e.authRedirectPath,token:e.token}}))((function(e){var t=C(),a=Object(s.useState)(!1),c=Object(i.a)(a,2),d=c[0],f=c[1],b=Object(s.useState)(""),h=Object(i.a)(b,2),g=h[0],p=h[1],k=Object(s.useState)([]),x=Object(i.a)(k,2),y=x[0],N=x[1],A=Object(s.useState)(""),D=Object(i.a)(A,2),L=D[0],q=D[1],B=Object(s.useCallback)(Object(u.a)(r.a.mark((function t(){var a,n,c,u,i,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f(!0),t.next=3,S.a.get("".concat(w.g,"?id=").concat(e.userId));case 3:if(a=t.sent,n=[],t.prev=5,"success"!==a.data.status){t.next=20;break}c=0;case 8:if(!(c<a.data.data.length)){t.next=16;break}return t.next=11,S.a.get("".concat(w.e,"/information.json?auth=").concat(e.token,'&orderBy="userId"&equalTo="').concat(a.data.data[c].id,'"'));case 11:for(i in(u=t.sent).data)s=Object(o.a)({},a.data.data[c],{name:u.data[i].userName}),n.push(s);case 13:c++,t.next=8;break;case 16:N(n),f(!1),t.next=22;break;case 20:f(!1),p(a.data.message);case 22:t.next=28;break;case 24:t.prev=24,t.t0=t.catch(5),f(!1),p(t.t0.toString());case 28:case"end":return t.stop()}}),t,null,[[5,24]])}))),[e.token,e.userId]);Object(s.useEffect)((function(){B()}),[B]);var J,P=function(t){var a=y.findIndex((function(e){return e.id===t}));f(!0),S.a.delete("".concat(w.f,"?id=").concat(e.userId,"&permissionedID=").concat(t)).then((function(e){if(f(!1),"success"===e.data.status){var t=[].concat(Object(n.a)(y.slice(0,a)),Object(n.a)(y.slice(a+1)));N(t)}})).catch((function(e){p(e),f(!1)}))};return 0!==y.length&&(J=y.map((function(e){return l.a.createElement(j,{item:e,key:e,delete:P,isLoading:d})}))),l.a.createElement("div",{className:t.center},l.a.createElement("h2",null,"Access List"),l.a.createElement("div",null,g),l.a.createElement(m.a,null,J),d&&l.a.createElement(E.a,{color:"secondary"}),l.a.createElement(I.a,null),l.a.createElement(v.a,{label:"ID",variant:"outlined",value:L,onChange:function(e){return q(e.target.value)},className:t.margin}),l.a.createElement(O.a,{variant:"contained",disabled:!L||d,color:"secondary",className:t.button,onClick:function(){return function(t){f(!0),S.a.get("".concat(w.e,"/information.json?auth=").concat(e.token,'&orderBy="userId"&equalTo="').concat(t,'"')).then((function(a){var c=function(c){S.a.put(w.b,{id:e.userId,permissionedID:t.toString(),role:a.data[c].role}).then((function(e){if("success"===e.data.status){var t=[].concat(Object(n.a)(y),[{id:a.data[c].userId,role:a.data[c].role,name:a.data[c].userName}]);N(t),q(""),f(!1)}})).catch((function(e){f(!1),p(e)}))};for(var r in a.data)c(r)})).catch((function(e){f(!1),p(e)}))}(L)}},"Add"))}))}}]);
//# sourceMappingURL=13.f585edff.chunk.js.map