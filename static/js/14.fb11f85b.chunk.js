(this["webpackJsonphealth-record"]=this["webpackJsonphealth-record"]||[]).push([[14],{402:function(e,a,t){"use strict";t.r(a);var n=t(12),r=t.n(n),o=t(40),c=t(364),i=t(363),l=t(0),s=t.n(l),u=t(384),d=t(256),m=t(237),b=t(255),f=t(284),p=t(234),h=t(265),g=t(38),v=t(20),k=t.n(v),I=t(17),E=t(394),j=t(367),O=t(404),x=t(32),w=t(211),C=Object(u.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:"90%"},mgTop:{marginTop:e.spacing(2)},center:{textAlign:"center"},button:{margin:"2rem auto",display:"block",height:"50px",width:"100px",backgroundColor:x.a[500],"&:hover":{backgroundColor:x.a[700]},color:"white"},wrapper:{margin:e.spacing(1),position:"relative"},buttonProgress:{color:"white",position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}}));a.default=Object(g.b)((function(e){return{role:e.role,userId:e.userId,authRedirectPath:e.authRedirectPath,token:e.token}}))((function(e){var a=C(),t=s.a.useState(0),n=Object(i.a)(t,2),u=n[0],g=n[1],v=s.a.useRef(null),x=Object(l.useState)(!1),D=Object(i.a)(x,2),N=D[0],y=D[1],S=Object(l.useState)(""),P=Object(i.a)(S,2),T=P[0],R=P[1],M=Object(l.useState)({patientID:"",date:new Date,info:""}),W=Object(i.a)(M,2),B=W[0],J=W[1],q=s.a.useState([]),z=Object(i.a)(q,2),A=z[0],K=z[1],L=Object(l.useCallback)(Object(c.a)(r.a.mark((function a(){var t,n,c,i,l,s;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return y(!0),a.next=3,k.a.get("".concat(I.h,"?id=").concat(e.userId));case 3:if(t=a.sent,n=[],a.prev=5,"success"!==t.data.status){a.next=20;break}c=0;case 8:if(!(c<t.data.data.length)){a.next=16;break}return a.next=11,k.a.get("".concat(I.e,"/information.json?auth=").concat(e.token,'&orderBy="userId"&equalTo="').concat(t.data.data[c].id,'"'));case 11:for(l in(i=a.sent).data)s=Object(o.a)({},t.data.data[c],{name:i.data[l].userName}),n.push(s);case 13:c++,a.next=8;break;case 16:K(n),y(!1),a.next=22;break;case 20:y(!1),R(t.data.message);case 22:a.next=28;break;case 24:a.prev=24,a.t0=a.catch(5),y(!1),R(a.t0.toString());case 28:case"end":return a.stop()}}),a,null,[[5,24]])}))),[e.token,e.userId]);s.a.useEffect((function(){g(v.current.offsetWidth),L()}),[L]);var F=function(e){return function(a){var t=Object(o.a)({},B);t[e]="date"===e?a:a.target.value,J(t)}},G=""===B.info||""===B.patientID;return s.a.createElement("div",{className:a.center},s.a.createElement("div",null,T),s.a.createElement("h1",null,"PRESCRIPTION"),s.a.createElement(b.a,{variant:"outlined",className:a.formControl},s.a.createElement(d.a,{ref:v,id:"demo-simple-select-outlined-label"},"Patient ID"),s.a.createElement(f.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:B.patientID,onChange:F("patientID"),labelWidth:u},s.a.createElement(m.a,{value:""},s.a.createElement("em",null,"None")),0!==A.length&&A.map((function(e){return s.a.createElement(m.a,{key:e.id,value:e.id},e.name)})))),s.a.createElement(p.a,{id:"standard-multiline-flexible",label:"Treatment Info",multiline:!0,rowsMax:"4",value:B.info,onChange:F("info"),className:a.formControl}),s.a.createElement(j.a,{utils:E.a},s.a.createElement(O.a,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"date-picker-inline",label:"Date",value:B.date,onChange:F("date"),KeyboardButtonProps:{"aria-label":"change date"},className:a.formControl})),s.a.createElement("div",{className:a.wrapper},s.a.createElement(h.a,{variant:"outlined",disabled:G,color:"secondary",className:a.button,onClick:function(){y(!0),k.a.put(I.a,{id:e.userId,patientID:B.patientID,info:B.info}).then((function(e){"success"===e.data.status?(y(!1),J({patientID:"",date:new Date,info:""})):(y(!1),R(e.data.message))})).catch((function(e){y(!1),R(e.toString())})),setTimeout((function(){y(!1)}),1e3)}},!N&&"Submit"),N&&s.a.createElement(w.a,{size:24,className:a.buttonProgress})))}))}}]);
//# sourceMappingURL=14.fb11f85b.chunk.js.map