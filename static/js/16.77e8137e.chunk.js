(this["webpackJsonphealth-record"]=this["webpackJsonphealth-record"]||[]).push([[16],{398:function(e,a,r){"use strict";r.r(a);var t=r(23),n=r(363),l=r(0),o=r.n(l),i=r(285),c=r(265),s=r(250),u=r(234),m=r(264),d=r(385),p=r.n(d),h=r(236),f=r(384),g=r(249),v=r(26),b=r(10),E=r(38),w=r(210),j=r(211),x=r(22),O=Object(f.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},center:{justifyContent:"center"}}}));a.default=Object(E.b)((function(e){return{loading:e.loading,error:e.error,isAuth:null!==e.token,role:e.role,authRedirectPath:e.authRedirectPath}}),(function(e){return{onAuth:function(a,r,t){return e(b.a(a,r,t))},onSetAuthRedirectPath:function(a){return e(b.i(a))}}}))((function(e){var a=O(),r=e.isAuth,d=e.role,f=e.loading,b=e.authRedirectPath,E=e.error,k=e.onAuth,y=e.onSetAuthRedirectPath,C=Object(l.useState)({email:{value:"",validation:{required:!0,email:!0},errors:[]},password:{value:"",validation:{required:!0},errors:[]}}),A=Object(n.a)(C,2),N=A[0],P=A[1],R=function(e,a){var r=Object(v.b)(N,Object(t.a)({},a,Object(v.b)(N[a],{value:e.target.value,errors:Object(v.a)(e.target.value,N[a].validation)})));P(r)};Object(l.useEffect)((function(){y(d?"/":"/role")}),[d,y]);var S=!N.email.value||!N.password.value||0!==N.email.errors.length||0!==N.password.errors.length,W=function(e,a){e.preventDefault(),k(N.email.value,N.password.value,a)},q=null;return E&&(q=o.a.createElement("p",null,E.message)),o.a.createElement(o.a.Fragment,null,r&&o.a.createElement(x.a,{to:b}),f&&o.a.createElement(w.a,{className:a.backdrop,open:!0},o.a.createElement(j.a,{color:"inherit"})),o.a.createElement(g.a,{component:"main",maxWidth:"xs"},o.a.createElement(s.a,null),o.a.createElement("div",{className:a.paper},o.a.createElement(i.a,{className:a.avatar},o.a.createElement(p.a,null)),o.a.createElement(h.a,{component:"h1",variant:"h5"},"Health Record"),o.a.createElement("form",{className:a.form,noValidate:!0},o.a.createElement(u.a,{error:0!==N.email.errors.length,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",value:N.email.value,helperText:0!==N.email.errors.length?N.email.errors.join(" & "):"",onChange:function(e){return R(e,"email")},autoComplete:"email",autoFocus:!0}),o.a.createElement(u.a,{error:0!==N.password.errors.length,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,value:N.password.value,helperText:0!==N.password.errors.length?N.password.errors.join(" & "):"",onChange:function(e){return R(e,"password")},name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),q,o.a.createElement(m.a,{container:!0,spacing:3,className:a.center},o.a.createElement(m.a,{item:!0,xs:5},o.a.createElement(c.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,disabled:S,onClick:function(e){return W(e,!1)}},"Sign In")),o.a.createElement(m.a,{item:!0,xs:5},o.a.createElement(c.a,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:a.submit,disabled:S,onClick:function(e){return W(e,!0)}},"Sign Up")))))))}))}}]);
//# sourceMappingURL=16.77e8137e.chunk.js.map